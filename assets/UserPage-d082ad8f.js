import{r as n,s as i,j as t,N as dt,f as I,c as pt,b as lt,V as ct,i as xt,B as ht,M as gt,h as mt,a as k}from"./index-9d235234.js";import{e as ut}from"./react-datepicker-15a879c0.js";import"./setPrototypeOf-8d862a7d.js";const ft=e=>n.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},n.createElement("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z",stroke:"#54ADFF",strokeWidth:1.5,strokeLinejoin:"round"}),n.createElement("path",{d:"M3 9C3 7.89543 3.89543 7 5 7H7.5C8.05228 7 8.5 6.55228 8.5 6C8.5 5.44772 8.94772 5 9.5 5H14.5C15.0523 5 15.5 5.44772 15.5 6C15.5 6.55228 15.9477 7 16.5 7H19C20.1046 7 21 7.89543 21 9V17C21 18.1046 20.1046 19 19 19H5C3.89543 19 3 18.1046 3 17V9Z",stroke:"#54ADFF",strokeWidth:1.5,strokeLinejoin:"round"})),wt=e=>n.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},n.createElement("path",{d:"M19 5L5 19M5.00004 5L19 19",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),bt=e=>n.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},n.createElement("path",{d:"M5 15.7059L4.46967 15.1756C4.32902 15.3162 4.25 15.507 4.25 15.7059H5ZM15.7059 5L16.2362 4.46967C15.9433 4.17678 15.4684 4.17678 15.1756 4.46967L15.7059 5ZM19 8.29412L19.5303 8.82445C19.8232 8.53155 19.8232 8.05668 19.5303 7.76379L19 8.29412ZM8.29412 19V19.75C8.49303 19.75 8.6838 19.671 8.82445 19.5303L8.29412 19ZM5 19H4.25C4.25 19.4142 4.58579 19.75 5 19.75V19ZM11.5882 18.25C11.174 18.25 10.8382 18.5858 10.8382 19C10.8382 19.4142 11.174 19.75 11.5882 19.75V18.25ZM18.5882 19.75C19.0024 19.75 19.3382 19.4142 19.3382 19C19.3382 18.5858 19.0024 18.25 18.5882 18.25V19.75ZM5.53033 16.2362L16.2362 5.53033L15.1756 4.46967L4.46967 15.1756L5.53033 16.2362ZM15.1756 5.53033L18.4697 8.82445L19.5303 7.76379L16.2362 4.46967L15.1756 5.53033ZM18.4697 7.76379L7.76379 18.4697L8.82445 19.5303L19.5303 8.82445L18.4697 7.76379ZM8.29412 18.25H5V19.75H8.29412V18.25ZM5.75 19V15.7059H4.25V19H5.75ZM12.705 8.00092L15.9991 11.295L17.0597 10.2344L13.7656 6.94026L12.705 8.00092ZM11.5882 19.75H18.5882V18.25H11.5882V19.75Z"})),Ct=e=>n.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},n.createElement("path",{d:"M14 4L18 4C19.1046 4 20 4.89543 20 6V18C20 19.1046 19.1046 20 18 20H14M3 12L15 12M3 12L7 8M3 12L7 16",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),jt=e=>n.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},n.createElement("path",{d:"M12 20V12M12 12V4M12 12H20M12 12H4",strokeWidth:2,strokeLinecap:"round"})),yt=e=>n.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},n.createElement("path",{d:"M18 6V18C18 19.1046 17.1046 20 16 20H8C6.89543 20 6 19.1046 6 18V6M15 6V5C15 3.89543 14.1046 3 13 3H11C9.89543 3 9 3.89543 9 5V6M4 6H20M10 10V16M14 10V16",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),vt=e=>n.createElement("svg",{width:182,height:182,viewBox:"0 0 182 182",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},n.createElement("rect",{width:182,height:182,rx:40,fill:"#54ADFF"}),n.createElement("path",{d:"M160.826 177.301C155.216 180.3 148.806 182 142 182H39.9999C33.1938 182 26.7846 180.3 21.174 177.302C21.0219 176.694 20.9676 176.06 21.0187 175.421C21.1468 173.814 21.9388 172.335 23.1968 171.322C27.2386 168.121 32.1772 165.839 37.5003 164.709L63.0672 159.586C65.7578 159.063 67.703 156.664 67.703 153.881V148.025C66.0935 145.777 64.5623 142.803 62.9559 139.682L62.8575 139.491C61.5763 136.999 59.6311 133.227 58.7691 132.342C53.5043 127.08 48.5074 121.235 46.9699 113.702C45.514 106.623 46.9932 102.897 48.4958 99.9634L48.6472 95.7603C48.4841 88.7746 48.2861 80.0774 50.243 74.7799C56.5561 57.3854 75.4138 47.6287 90.754 47C98.0804 47.1281 104.219 48.7697 110.427 52.1229C111.126 52.4954 113.025 52.8214 114.399 53.0543C117.905 53.6481 122.261 54.3932 125.22 57.595C129.413 62.1124 131.079 67.2702 131.288 76.4448C133.047 83.2209 133.28 92.5352 133.28 99.975C134.946 102.956 136.367 106.658 134.922 113.714C133.373 121.235 128.376 127.068 123.205 132.261C122.261 133.227 120.363 136.964 119.105 139.444C117.486 142.646 115.937 145.708 114.294 148.013V153.87C114.294 156.664 116.228 159.062 118.907 159.575L144.45 164.698C149.808 165.815 154.747 168.121 158.8 171.322C160.058 172.324 160.85 173.802 160.979 175.409C161.034 176.051 160.98 176.69 160.826 177.301Z",fill:"#9DCEFC",fillOpacity:.4})),kt=e=>n.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},n.createElement("g",{id:"x"},n.createElement("path",{id:"Vector",d:"M18 6L6 18",stroke:"#F43F5E",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{id:"Vector_2",d:"M6 6L18 18",stroke:"#F43F5E",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))),Lt=i.div`
  position: relative;
  border-radius: 20px;
  padding: 16px;
  margin-bottom: 16px;
  width: 280px;
  box-shadow: 3px 8px 14px 0px rgba(136, 198, 253, 0.19);
  background-color: #fff;
  @media (min-width: 768px) {
    display: flex;
    gap: 20px;
    width: 704px;
    padding-right: 76px;
    padding-bottom: 58px;
  }

  @media (min-width: 1280px) {
    gap: 32px;
  }
`,Et=i.img`
  height: 240px;
  width: 240px;
  border-radius: 20px;
  margin-left: auto;
  margin-right: auto;
  margin-bottom: 20px;
  @media (min-width: 768px) {
    height: 128px;
    width: 128px;
    margin-left: 0;
    margin-right: 0;
  }

  @media (min-width: 1280px) {
    height: 161px;
    width: 161px;
  }
`,Mt=i.div``,u=i.p`
  letter-spacing: 0.56px;
  margin-bottom: 12px;
  @media (min-width: 768px) {
    margin-bottom: 16px;
  }
`,f=i.span`
  color: #111;
  font-size: 14px;
  font-weight: 700;
  letter-spacing: 0.56px;
`,St=i.button`
  background-color: transparent;
  border-color: transparent;
  position: absolute;
  top: 272px;
  right: 16px;
  @media (min-width: 768px) {
    top: 20px;
    right: 20px;
  }
`;function Vt({pet:e,onDelete:a}){const l=new Date(e.birthDay).toLocaleDateString("ru-RU",{day:"numeric",month:"numeric",year:"numeric"});return t.jsxs(Lt,{children:[t.jsx(St,{onClick:()=>a(e._id),children:t.jsx(yt,{style:{stroke:"#54ADFF"}})}),t.jsx(Et,{src:e.image,alt:e.name}),t.jsxs(Mt,{children:[t.jsxs(u,{children:[t.jsx(f,{children:"Name:"})," ",e.name]}),t.jsxs(u,{children:[t.jsx(f,{children:"Date of Birth:"})," ",l]}),t.jsxs(u,{children:[t.jsx(f,{children:"Type:"})," ",e.typeOfPet]}),t.jsxs(u,{children:[t.jsx(f,{children:"Comments:"})," ",e.comments]})]})]})}const Dt=i(dt)`
  display: flex;
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: linear-gradient(290deg, #419ef1 0%, #9bd0ff 107.89%);
  filter: drop-shadow(3px 8px 14px rgba(136, 198, 253, 0.19));
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: #fff;
  font-family: inherit;
  font-size: 12px;
  font-weight: 600;
  text-decoration: none;
  position: absolute;
  right: 0;
  top: 70px;
  gap: 4px;
  z-index: 50;
  @media (min-width: 768px) {
    top: -60px;
    width: 130px;
    height: 40px;
    flex-direction: row;
    gap: 8px;
    font-size: 16px;
    font-weight: 700;
    letter-spacing: 0.64px;
    border-radius: 40px;
    right: 24px;
    background-color: #54adff;
  }
  @media (min-width: 1280px) {
    right: 10px;
  }
`,Ft=i.h2`
  font-size: 20px;
  font-weight: 500;
  letter-spacing: 0.8px;
  margin-bottom: 24px;
  width: 280px;
   @media (min-width: 768px) {
    width: 700px;
   }
`;function Pt({pets:e,onDelete:a}){return t.jsxs("div",{style:{position:"relative",zIndex:10},children:[t.jsxs(Dt,{to:"/add-pet",children:[t.jsx(jt,{style:{stroke:"#fff"}}),t.jsx("span",{children:"Add pet"})]}),e&&e.length>0?e.map(p=>t.jsx(Vt,{pet:p,onDelete:a},p._id)):t.jsx(Ft,{children:"You didnt added any pets!"})]})}const Bt=i.div`
  margin-left: auto;
  margin-right: auto;
  width: 320px;
  padding-top: 40px;

  @media (min-width: 768px) {
    width: 768px;
    padding-top: 60px;
  }

  @media (min-width: 1280px) {
    display: flex;
    width: 1280px;
  }
`,W=i.section`
  padding-right: 20px;
  padding-left: 20px;
  margin-bottom: 46px;
`,$=i.h2`
  font-size: 20px;
  font-weight: 500;
  letter-spacing: 0.8px;
  margin-bottom: 24px;
`,Ht=i.form`
  position: relative;
  border-radius: 20px;
  background: #fff;
  box-shadow: 3px 8px 14px 0px rgba(136, 198, 253, 0.19);
  padding: 20px 8px 25px 8px;
  width: 280px;
  flex-shrink: 0;
  @media (min-width: 768px) {
    display: flex;
    flex-direction: row-reverse;
    justify-content: space-between;
    width: 704px;
    height: 268px;
    padding-right: 76px;
    padding-bottom: 58px;
  }

  @media (min-width: 1280px) {
    display: block;
    width: 395px;
    padding-right: 0;
    height: 520px;
  }
`,Ut=i.div`
  position: relative;
  width: 182px;
  height: 182px;
  flex-shrink: 0;
  background-color: grey;
  margin-left: auto;
  margin-right: auto;
  margin-bottom: 60px;
  border-radius: 40px;
  @media (min-width: 768px) {
    margin-left: 0;
    margin-right: 0;
  }
  @media (min-width: 1280px) {
    margin-left: auto;
    margin-right: auto;
  }
`,zt=i.ul`
  list-style-type: none;
  padding: 0;
  margin-bottom: 20px;
  @media (min-width: 768px) {
  }
  @media (min-width: 1280px) {
    width: 356px;
  }
`,x=i.li`
  display: flex;
  gap: 4px;
  margin-bottom: 20px;
  &:last-child {
    margin-bottom: 0;
  }
  @media (min-width: 768px) {
    margin-bottom: 10px;
    &:last-child {
      margin-bottom: 0;
    }
  }
`,h=i.span`
  font-size: 14px;
  font-weight: 600;
  letter-spacing: 0.56px;
  width: 100px;
  padding: 4px;
`,w=i.input`
  display: flex;
  font-size: 12px;
  letter-spacing: 0.48px;
  width: 100%;
  border-radius: 20px;
  border: 1px solid var(--unnamed, #54adff);
  padding: 4px 10px;
  @media (min-width: 768px) {
    width: 255px;
    height: 30px;
  }
`,At=i.button`
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  background-color: transparent;
  color: #888;
  font-family: Manrope;
  font-size: 16px;
  font-weight: 500;
  line-height: normal;
  letter-spacing: 0.64px;
  @media (min-width: 768px) {
    position: absolute;
    left: 20px;
    bottom: 14px;
  }
`,N=i.button`
  position: absolute;
  right: 10px;
  top: 14px;
  background-color: transparent;
  border: transparent;
  @media (min-width: 768px) {
    right: 20px;
  }
`,Zt=i.button`
  color: #fef9f9;
  display: block;
  margin: 0 auto;
  font-family: Manrope;
  font-size: 14px;
  font-weight: 700;
  letter-spacing: 0.56px;
  width: 248px;
  max-height: 32px;
  padding: 6px 108px;
  border-radius: 40px;
  border-color: transparent;
  background: #54adff;
  @media (min-width: 768px) {
    position: absolute;
    left: 116px;
    bottom: 12px;
  }
`,It=i.button`
  border: none;
  position: absolute;
  bottom: -36px;
  left: 40px;
  color: #111;
  font-size: 12px;
  font-weight: 400;
  line-height: 1.83;
  letter-spacing: 0.48px;
  background-color: transparent;
  display: flex;
  align-items: center;
  gap: 8px;
`;i.button`
  background-color: transparent;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-size: 12px;
  line-height: 1.83;
  letter-spacing: 0.48px;
`;const Wt=i.button`
  background-color: transparent;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  margin-left:20px;
`,$t=i.div`
  width: 184px;
  height: 184px;
  background-color: #cce4fb;
  border-radius: 40px;
  position: absolute;
  cursor: pointer;
  bottom: 35px;
  left: -20px
`,Nt=i.svg`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  cursor: pointer;
`,Rt=i.img`
 width: 99%;
  height: 99%;
  object-fit: cover;
  border-radius: 40px;
`,Ot=i.input`
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
  border-radius: 40px;
`,Tt=i(ut)`
  display: flex;
  font-size: 12px;
  letter-spacing: 0.48px;
  width: 188px;
  border-radius: 20px;
  border: 1px solid var(--unnamed, #54adff);
  padding: 4px 10px;

  @media (min-width: 768px) {
    width: 255px;
    height: 30px;
  }

  &:focus {
    border: 2px solid var(--blue-links, #54adff);
    outline: none;
    transition: border 0.3s ease-out;
  }


`,_t=i.div`
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: #c9c9c945;
  width: 75px;
  height: 75px;
  border-radius: 50%;
  position: absolute;
  z-index:10
`;function Gt(){const[e,a]=n.useState(!1),[p,l]=n.useState(!1),[L,E]=n.useState(""),[M,S]=n.useState(""),[b,V]=n.useState(""),[D,F]=n.useState(""),[P,B]=n.useState(""),[C,j]=n.useState(null),[R,y]=n.useState(null),[H,U]=n.useState(null),[O,z]=n.useState(null),[g,v]=n.useState(null),{profilePic:A}=I(),{isLoading:T}=I(),_=pt(),c=lt(r=>r.auth.token),m="No info",Z=r=>{r.preventDefault(),a(!e)},X=r=>{E(r.target.value)},Y=r=>{S(r.target.value)},q=r=>{const d=r.target.value.replace(/[^\d()\-]/g,"");F(d)},G=r=>{B(r.target.value)},J=async r=>{r.preventDefault();const o=new FormData;o.append("username",L),o.append("email",M),o.append("birthDay",b),o.append("phone",D),o.append("city",P),C&&o.append("image",R),_(mt({token:c,editedUserFormData:o})),j(null),y(null),a(!1),l(!1)},K=r=>{r.preventDefault(),l(!0)},Q=r=>{r.preventDefault(),j(null),y(null),l(!1)},tt=async r=>{try{const o=await k.delete(`https://happy-pets-rest-api.onrender.com/api/myPet/${r}`,{headers:{Authorization:`Bearer ${c}`}});z(d=>d.filter(s=>s._id!==r))}catch(o){console.error("Error:",o)}};n.useEffect(()=>{U(A)},[A]),n.useEffect(()=>{const r=async()=>{try{const s=await k.get("https://happy-pets-rest-api.onrender.com/api/myPet",{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${c}`}});z(s.data.data.response.docs)}catch(s){return console.error("Error fetching user:",s),null}},o=async()=>{try{return(await k.get("https://happy-pets-rest-api.onrender.com/api/auth/current",{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${c}`}})).data}catch(s){return console.error("Error fetching user:",s),null}};(async()=>{const s=await o();if(s){const{username:nt,email:it,birthDay:rt,phone:ot,city:st,profilePic:at}=s;E(nt||m),S(it||m),F(ot||m),B(st||m),U(at||""),V(rt||"")}})(),r()},[c]);const et=r=>{const o=r.target.files[0];if(o){const d=URL.createObjectURL(o);j(d),y(o)}};return t.jsx(t.Fragment,{children:t.jsxs(Bt,{children:[t.jsxs(W,{children:[t.jsx($,{children:"My information:"}),t.jsxs(Ht,{children:[T&&t.jsx(_t,{children:t.jsx(ct,{})}),t.jsxs(Ut,{children:[H?t.jsx(Rt,{src:H,alt:"User picture"}):t.jsx(vt,{}),e&&(p?t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",position:"absolute",bottom:"-36px",left:"20px"},children:[t.jsx($t,{children:C?t.jsx("img",{src:C,alt:"Selected",style:{width:"100%",height:"100%",borderRadius:"25px"}}):t.jsxs(t.Fragment,{children:[t.jsx(Nt,{width:"24",height:"24",children:t.jsx("use",{href:xt+"#plus",fill:"white"})}),t.jsx(Ot,{type:"file",onChange:et,name:"image"})]})}),t.jsxs(Wt,{onClick:Q,children:["Cancel photo  ",t.jsx(kt,{})]})]}):t.jsxs(It,{onClick:K,type:"button",children:[t.jsx(ft,{}),t.jsx("span",{children:"Edit photo"})]}))]}),t.jsxs(zt,{children:[t.jsxs(x,{children:[t.jsx(h,{children:"Name:"}),t.jsx(w,{type:"text",name:"name",value:L,disabled:!e,onChange:X})]}),t.jsxs(x,{children:[t.jsx(h,{children:"Email:"}),t.jsx(w,{type:"email",name:"email",value:M,disabled:!e,onChange:Y})]}),t.jsxs(x,{children:[t.jsx(h,{children:"Birthday:"}),t.jsx(Tt,{type:"text",name:"birthday",selected:b?new Date(b):null,disabled:!e,onChange:r=>V(r||"")})]}),t.jsxs(x,{children:[t.jsx(h,{children:"Phone:"}),t.jsx(w,{type:"text",name:"phone",value:D,disabled:!e,onChange:q})]}),t.jsxs(x,{children:[t.jsx(h,{children:"City:"}),t.jsx(w,{type:"text",name:"city",value:P,disabled:!e,onChange:G})]})]}),e?t.jsx(Zt,{onClick:J,children:"Save"}):t.jsxs(At,{type:"button",onClick:()=>v(!g),children:[t.jsx(Ct,{style:{stroke:"#54ADFF",marginRight:"12px"}})," ","Log Out"]}),e?t.jsx(N,{onClick:Z,children:t.jsx(wt,{style:{stroke:"#54ADFF"}})}):t.jsx(N,{onClick:Z,children:t.jsx(bt,{style:{stroke:"#54ADFF"}})})]})]}),t.jsxs(W,{children:[t.jsx($,{children:"My pets:"}),t.jsx(Pt,{pets:O,onDelete:tt})]}),g&&t.jsx(ht,{closeModal:()=>v(!g),children:t.jsx(gt,{closeModal:()=>v(!g)})})]})})}export{Gt as default};
